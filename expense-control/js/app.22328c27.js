(function(e){function t(t){for(var s,o,i=t[0],c=t[1],l=t[2],p=0,d=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(s=!1)}s&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},r={app:0},a=[];function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"034f":function(e,t,n){"use strict";n("85ec")},"578b":function(e,t,n){"use strict";n("590c")},"590c":function(e,t,n){},"85ec":function(e,t,n){},"8cc0":function(e,t,n){"use strict";n("a8ad")},a8ad:function(e,t,n){},b6e4:function(e,t,n){"use strict";n("e4d3")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Layout",{scopedSlots:e._u([{key:"buttons",fn:function(){return[n("b-button",{attrs:{id:"firstButton"},on:{click:function(t){e.currentTabComponent="Form"}}},[e._v("Dodaj wydatek")]),n("b-button",{on:{click:function(t){e.currentTabComponent="Expenses"}}},[e._v("Zobacz wydatki")])]},proxy:!0},{key:"content",fn:function(){return[n("keep-alive",[n(e.currentTabComponent,{tag:"component",on:{changeToForm:function(t){e.currentTabComponent="Form"}}})],1)]},proxy:!0}])})],1)},a=[],o=n("d4ec"),i=n("262e"),c=n("2caf"),l=n("9ab4"),u=n("1b40"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"mainContainer"}},[n("div",{attrs:{id:"secondContainer"}},[e._t("buttons"),n("div",{attrs:{id:"textContainer"}},[e._t("content")],2)],2)])},d=[],f=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(u["b"]);f=Object(l["c"])([u["a"]],f);var b=f,h=b,y=(n("8cc0"),n("2877")),v=Object(y["a"])(h,p,d,!1,null,"1b118e26",null),x=v.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",{attrs:{id:"form"}},[n("tr",[e._m(0),n("td",[n("b-form-select",{attrs:{id:"category",options:e.categories},model:{value:e.expense.category,callback:function(t){e.$set(e.expense,"category",t)},expression:"expense.category"}})],1)]),n("tr",[e._m(1),n("td",[n("vue-typeahead-bootstrap",{attrs:{id:"user",data:e.users},model:{value:e.expense.user,callback:function(t){e.$set(e.expense,"user",t)},expression:"expense.user"}})],1)]),n("tr",[e._m(2),n("td",[n("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker"},model:{value:e.expense.date,callback:function(t){e.$set(e.expense,"date",t)},expression:"expense.date"}})],1)]),n("tr",[e._m(3),n("td",[n("b-form-input",{attrs:{id:"description",type:"text"},model:{value:e.expense.description,callback:function(t){e.$set(e.expense,"description",t)},expression:"expense.description"}})],1)]),n("tr",[e._m(4),n("td",[n("b-form-input",{attrs:{id:"amount",type:"number"},model:{value:e.expense.amount,callback:function(t){e.$set(e.expense,"amount",t)},expression:"expense.amount"}})],1)]),n("tr",[n("td",{attrs:{colspan:"2",id:"btnCol"}},[n("b-button",{on:{click:e.addExpense}},[e._v("Dodaj")])],1)])])])},k=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("label",{attrs:{for:"category"}},[e._v("Kategoria")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{staticClass:"label"},[n("label",{attrs:{for:"user"}},[e._v("Użytkownik")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{staticClass:"label"},[n("label",{attrs:{for:"example-datepicker"}},[e._v("Data")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{staticClass:"label"},[n("label",{attrs:{for:"description"}},[e._v("Opis")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{staticClass:"label"},[n("label",{attrs:{for:"amount"}},[e._v("Kwota")])])}],g=(n("a4d3"),n("e01a"),n("4160"),n("fb6a"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0"),n("96cf"),n("1da1")),_=n("bee2"),j=n("2591"),O=n("d726");n("21b6");n("66ce");var w=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.usersSet=new Set,e.users=[],e.categories=["Żywność","Kredyt","Środki czystości","Zwierzęta","Rozrywka","Rachunki","Wyposażenie","Inne"],e.expense={user:"",category:"",description:"",date:"",amount:"",id:""},e}return Object(_["a"])(n,[{key:"created",value:function(){this.getUsers()}},{key:"copyExpense",value:function(e){this.expense=e}},{key:"addExpense",value:function(){if(""==this.expense.user||""==this.expense.category||""==this.expense.date||""==this.expense.description||""==this.expense.amount)alert("aby dodać wydatek wypełnij wszystkie pola!");else{var e=this.rootRef.push().key;this.rootRef.child(e).set({category:this.expense.category,description:this.capitalize(this.expense.description),date:this.expense.date,amount:this.expense.amount,id:e}),this.updateUsers(),this.clearForm()}}},{key:"clearForm",value:function(){this.expense.user="",this.expense.category="",this.expense.description="",this.expense.date="",this.expense.amount=""}},{key:"getUsers",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,this.rootRef.orderByKey().on("value",(function(e){e.forEach((function(e){t.users.push(e.key)}))}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateUsers",value:function(){this.usersSet.add(this.expense.user)}},{key:"capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"rootRef",get:function(){return j["a"].database().ref("/"+this.capitalize(this.expense.user))}},{key:"expenseToCopy",get:function(){return this.$store.getters.getExpenseToCopy}}]),n}(u["b"]);Object(l["c"])([Object(u["c"])("expenseToCopy")],w.prototype,"copyExpense",null),w=Object(l["c"])([Object(u["a"])({components:{VueTypeaheadBootstrap:O["a"]}})],w);var E=w,F=E,C=(n("578b"),Object(y["a"])(F,m,k,!1,null,"152fb7ea",null)),S=C.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"mainContainer"}},[n("label",{attrs:{for:"chooseUser"}},[e._v("Wybierz użytkownika: ")]),n("b-form-select",{attrs:{id:"chooseUser",options:e.users},on:{change:function(t){e.getData(),e.removeFilters()}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),n("br"),e.selected?n("label",{attrs:{for:"filter"}},[e._v("Filtruj po: ")]):e._e(),e.selected?n("b-form-select",{attrs:{id:"filter",options:e.filters},on:{change:function(t){return e.addFilter()}},model:{value:e.selectedFilter,callback:function(t){e.selectedFilter=t},expression:"selectedFilter"}}):e._e(),e.selected?n("b-form-select",{attrs:{id:"filter",options:e.months},on:{change:function(t){return e.addFilter()}},model:{value:e.selectedFilter,callback:function(t){e.selectedFilter=t},expression:"selectedFilter"}}):e._e(),e.selected?n("p",[e._v("Zastosowane filtry: "),e._l(e.allSelectedFilters,(function(t){return n("span",{key:t.key},[n("b-badge",[e._v(e._s(t))])],1)}))],2):e._e(),e.selected?n("b-button",{on:{click:function(t){return e.removeFilters()}}},[e._v("Usuń filtry")]):e._e(),e.selected?n("b-button",{on:{click:function(t){return e.removeExpense()}}},[e._v("Usuń wydatek")]):e._e(),e.selected?n("b-button",{on:{click:function(t){return e.copyExpense()}}},[e._v("Kopiuj wydatek")]):e._e(),e.selected?n("b-table",{ref:"selectableTable",attrs:{striped:"",hover:"",items:e.expenses,fields:e.fields,selectable:"","select-mode":"single","sticky-header":"true"},on:{"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"cell(selectedExpenses)",fn:function(t){var s=t.rowSelected;return[s?[n("span",{attrs:{"aria-hidden":"true"}},[e._v("✓")]),n("span",{staticClass:"sr-only"},[e._v("Selected")])]:[n("span",{attrs:{"aria-hidden":"true"}}),n("span",{staticClass:"sr-only"},[e._v("Not selected")])]]}}],null,!1,305866066)}):e._e()],1)},z=[],$=(n("99af"),n("4de4"),n("caad"),n("2532"),n("2909")),R=n("b85c");n("66ce");var U=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.filters=["Żywność","Kredyt","Środki czystości","Zwierzęta","Rozrywka","Rachunki","Wyposażenie","Inne"],e.months=["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],e.selectedFilter="",e.allSelectedFilters=[],e.selected="",e.users=[],e.selectedExpenses=[],e.expenses=[],e.fields=[{key:"selectedExpenses",label:" "},{key:"category",sortable:!0,label:"Kategoria"},{key:"description",sortable:!0,label:"Opis"},{key:"amount",sortable:!0,label:"Kwota"},{key:"date",sortable:!0,label:"Data"}],e.month=function(t){var n=t;return n=n.slice(5,-3),"0"===n[0]&&(n=n[1]),n=e.months[+n-1],n},e}return Object(_["a"])(n,[{key:"created",value:function(){this.getUsers()}},{key:"addFilter",value:function(){var e=this;if(!this.allSelectedFilters.includes(this.selectedFilter)){this.getData(),this.allSelectedFilters.push(this.selectedFilter);var t=[],n=[],s=[];console.log(this.expenses);var r,a=Object(R["a"])(this.allSelectedFilters);try{var o=function(){var s=r.value;t=t.concat(e.expenses.filter((function(e){return e.category==s}))),n=n.concat(e.expenses.filter((function(t){return e.month(t.date)==s})))};for(a.s();!(r=a.n()).done;)o()}catch(f){a.e(f)}finally{a.f()}if(t.length>0&&n.length>0){var i,c=Object(R["a"])(t);try{for(c.s();!(i=c.n()).done;){var l,u=i.value,p=Object(R["a"])(n);try{for(p.s();!(l=p.n()).done;){var d=l.value;u.id===d.id&&s.push(u)}}catch(f){p.e(f)}finally{p.f()}}}catch(f){c.e(f)}finally{c.f()}}else 0==t.length&&n.length>0?s.push.apply(s,Object($["a"])(n)):t.length>0&&0==n.length&&s.push.apply(s,Object($["a"])(t));this.expenses=s,console.log(s)}this.selectedFilter=""}},{key:"removeFilters",value:function(){this.allSelectedFilters=[],this.getData()}},{key:"getUsers",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.users=[],t=j["a"].database().ref("/"+this.selected),n=this,t.orderByKey().on("value",(function(e){n.users=[],e.forEach((function(e){n.users.push(e.key)}))}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onRowSelected",value:function(e){this.selectedExpenses=e}},{key:"getData",value:function(){this.expenses=[];var e=j["a"].database().ref("/"+this.selected),t=this;e.on("value",(function(e){t.expenses=[],e.forEach((function(e){t.expenses.unshift(e.val())}))})),console.log(this.expenses)}},{key:"removeExpense",value:function(){if(this.selectedExpenses.length>0){var e,t=j["a"].database().ref("/"+this.selected),n=Object(R["a"])(this.expenses);try{for(n.s();!(e=n.n()).done;){var s,r=e.value,a=Object(R["a"])(this.selectedExpenses);try{for(a.s();!(s=a.n()).done;){var o=s.value;r.id==o.id&&t.child(r.id).remove()}}catch(i){a.e(i)}finally{a.f()}}}catch(i){n.e(i)}finally{n.f()}this.expenses=[],this.getData()}}},{key:"copyExpense",value:function(){this.selectedExpenses[0].user=this.selected,this.$emit("changeToForm"),this.$store.dispatch("setExpenseToCopy",this.selectedExpenses[0])}}]),n}(u["b"]);U=Object(l["c"])([u["a"]],U);var K=U,D=K,P=(n("b6e4"),Object(y["a"])(D,T,z,!1,null,"745e60c9",null)),A=P.exports,I=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.currentTabComponent="Form",e}return n}(u["b"]);I=Object(l["c"])([Object(u["a"])({components:{Layout:x,Form:S,Expenses:A}})],I);var L=I,M=L,B=(n("034f"),Object(y["a"])(M,r,a,!1,null,null,null)),W=B.exports,Z=n("260b"),J=n("2f62");s["default"].use(J["a"]);var G=new J["a"].Store({state:{expenseToCopy:{}},getters:{getExpenseToCopy:function(e){return e.expenseToCopy}},mutations:{setExpenseToCopy:function(e,t){e.expenseToCopy=t}},actions:{setExpenseToCopy:function(e,t){var n=e.commit;n("setExpenseToCopy",t)}}}),N=n("5f5b"),q=n("b1e0"),H=(n("f9e3"),n("2dd8"),{apiKey:"AIzaSyA1A_QkHdckAFd-8JehkpNxq-zhgGomew8",authDomain:"fir-vue-71745.firebaseapp.com",databaseURL:"https://fir-vue-71745.firebaseio.com",projectId:"fir-vue-71745",storageBucket:"fir-vue-71745.appspot.com",messagingSenderId:"371137661896",appId:"1:371137661896:web:609b5572854fc335b7cefd"});Z["a"].initializeApp(H),s["default"].use(N["a"],q["a"]),new s["default"]({store:G,render:function(e){return e(W)}}).$mount("#app")},e4d3:function(e,t,n){}});
//# sourceMappingURL=app.22328c27.js.map